<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Midnight Spark</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            min-height: 100vh;
            background: #0a0a0a;
            color: #fff;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* èƒŒæ™¯çƒ­åº¦ */
        .bg-heat {
            position: fixed;
            inset: 0;
            background: radial-gradient(ellipse at 50% 100%, rgba(255,20,20,0.2) 0%, transparent 60%);
            pointer-events: none;
            transition: opacity 0.5s;
        }

        /* è¾¹ç¼˜è„‰å†² */
        .pulse-border {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 100;
            box-shadow: inset 0 0 150px rgba(255,0,50,0);
            transition: box-shadow 0.3s;
        }
        .pulse-border.active { animation: pulse 0.6s ease-out; }
        @keyframes pulse {
            0% { box-shadow: inset 0 0 200px rgba(255,0,50,1); }
            100% { box-shadow: inset 0 0 80px rgba(255,0,50,0); }
        }
        .pulse-border.intense { animation: pulse-intense 1s ease-out; }
        @keyframes pulse-intense {
            0% { box-shadow: inset 0 0 300px rgba(255,0,0,1); }
            50% { box-shadow: inset 0 0 150px rgba(255,50,0,0.8); }
            100% { box-shadow: inset 0 0 50px rgba(255,0,50,0); }
        }

        /* é—ªå± */
        .flash {
            position: fixed;
            inset: 0;
            background: #ff0000;
            pointer-events: none;
            z-index: 200;
            opacity: 0;
        }
        .flash.fire { animation: flash-fire 0.3s ease-out; }
        @keyframes flash-fire {
            0% { opacity: 0.8; }
            30% { opacity: 0.5; }
            100% { opacity: 0; }
        }

        /* éœ‡åŠ¨ */
        @keyframes shake {
            0%, 100% { transform: translate(0); }
            20% { transform: translate(-15px, -10px) rotate(-1deg); }
            40% { transform: translate(15px, 8px) rotate(1deg); }
            60% { transform: translate(-10px, 10px) rotate(-0.5deg); }
            80% { transform: translate(10px, -8px) rotate(0.5deg); }
        }
        body.shaking { animation: shake 0.5s ease; }
        @keyframes shake-hard {
            0%, 100% { transform: translate(0) rotate(0); }
            10% { transform: translate(-25px, -15px) rotate(-2deg); }
            20% { transform: translate(22px, 12px) rotate(2deg); }
            30% { transform: translate(-20px, 18px) rotate(-1.5deg); }
            40% { transform: translate(18px, -20px) rotate(1.5deg); }
            50% { transform: translate(-15px, 10px) rotate(-1deg); }
            60% { transform: translate(20px, -12px) rotate(1deg); }
            70% { transform: translate(-10px, 15px) rotate(-0.5deg); }
            80% { transform: translate(12px, -8px) rotate(0.5deg); }
            90% { transform: translate(-5px, 5px) rotate(0); }
        }
        body.shaking-hard { animation: shake-hard 0.8s ease-out; }

        /* å®¹å™¨ */
        .game-container {
            width: 100%;
            max-width: 420px;
            height: 100vh;
            display: flex;
            flex-direction: column;
            position: relative;
            z-index: 1;
        }

        /* é¡¶æ  */
        .status-bar {
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .logo {
            font-size: 0.9rem;
            font-weight: 600;
            letter-spacing: 2px;
            color: #ff2d55;
        }
        .header-right {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .lang-btn {
            padding: 6px 10px;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 15px;
            font-size: 0.7rem;
            color: rgba(255,255,255,0.7);
            cursor: pointer;
        }
        .mode-badge {
            padding: 6px 12px;
            background: rgba(255,45,85,0.2);
            border: 1px solid rgba(255,45,85,0.4);
            border-radius: 20px;
            font-size: 0.75rem;
            color: #ff2d55;
            cursor: pointer;
        }

        /* å¡ç‰‡åŒº */
        .card-area {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            perspective: 2000px;
        }
        .card {
            width: 100%;
            max-width: 340px;
            height: 520px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.5s ease;
            cursor: pointer;
        }
        .card.flipped { transform: rotateY(180deg); }
        .card-face {
            position: absolute;
            inset: 0;
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
            border-radius: 24px;
            overflow: hidden;
        }

        /* å¡èƒŒ */
        .card-back {
            background: linear-gradient(145deg, #1a1a1a, #0d0d0d);
            border: 2px solid rgba(255,45,85,0.3);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 20px 60px rgba(0,0,0,0.8);
        }
        .card-back-icon {
            width: 80px;
            height: 80px;
            margin-bottom: 20px;
            animation: glow 2s ease-in-out infinite;
        }
        .card-back-icon svg {
            width: 100%;
            height: 100%;
        }
        @keyframes glow {
            0%, 100% { filter: drop-shadow(0 0 20px rgba(255,45,85,0.5)); }
            50% { filter: drop-shadow(0 0 40px rgba(255,45,85,0.8)); }
        }
        .card-back-text {
            font-size: 1.1rem;
            color: rgba(255,255,255,0.6);
            letter-spacing: 4px;
        }

        /* å¡é¢ */
        .card-front {
            background: linear-gradient(180deg, #1a0a10 0%, #0a0a0a 100%);
            border: 2px solid rgba(255,45,85,0.4);
            transform: rotateY(180deg);
            display: flex;
            flex-direction: column;
            box-shadow: 0 25px 80px rgba(0,0,0,0.9);
        }
        .intensity-strip {
            height: 6px;
            background: linear-gradient(90deg, #ff2d55, transparent);
        }
        .command-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            padding: 25px 20px;
        }
        .command-level {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 6px 14px;
            background: rgba(255,45,85,0.15);
            border: 1px solid rgba(255,45,85,0.3);
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            color: #ff2d55;
            align-self: flex-start;
        }

        /* ä½“ä½ç¤ºæ„å›¾ - çº¿æ¡é£æ ¼ */
        .position-icon {
            width: 140px;
            height: 110px;
            margin: 15px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            filter: drop-shadow(0 0 12px rgba(255,45,85,0.5));
            animation: icon-pulse 2s ease-in-out infinite;
        }
        .position-icon svg {
            width: 100%;
            height: 100%;
        }
        @keyframes icon-pulse {
            0%, 100% { transform: scale(1); filter: drop-shadow(0 0 12px rgba(255,45,85,0.5)); }
            50% { transform: scale(1.05); filter: drop-shadow(0 0 25px rgba(255,45,85,0.9)); }
        }

        .command-text {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .command-text p {
            font-size: 1.35rem;
            font-weight: 500;
            line-height: 1.8;
            text-align: center;
            color: #fff;
            animation: text-appear 0.6s ease-out;
        }
        @keyframes text-appear {
            0% { opacity: 0; transform: scale(0.95); }
            100% { opacity: 1; transform: scale(1); }
        }

        .countdown {
            padding: 18px;
            text-align: center;
            border-top: 1px solid rgba(255,255,255,0.1);
        }
        .countdown-time {
            font-size: 2rem;
            font-weight: 700;
            color: #ff2d55;
            transition: all 0.3s;
        }
        .countdown-time.urgent {
            color: #ff0000;
            animation: countdown-pulse 0.5s ease-in-out infinite;
            text-shadow: 0 0 20px rgba(255,0,0,0.8);
        }
        @keyframes countdown-pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.15); }
        }
        .countdown-label {
            font-size: 0.75rem;
            color: rgba(255,255,255,0.4);
            margin-top: 5px;
        }

        /* éŸ³ä¹æŒ‰é’® */
        .music-btn {
            position: fixed;
            right: 15px;
            bottom: 100px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(255,45,85,0.25);
            border: 2px solid rgba(255,45,85,0.4);
            color: #ff6b8a;
            font-size: 1.4rem;
            cursor: pointer;
            z-index: 50;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }
        .music-btn.playing {
            animation: music-pulse 1s ease-in-out infinite;
            border-color: #ff2d55;
        }
        @keyframes music-pulse {
            0%, 100% { box-shadow: 0 0 15px rgba(255,45,85,0.4); }
            50% { box-shadow: 0 0 30px rgba(255,45,85,0.8); }
        }

        /* åº•éƒ¨æŒ‰é’® */
        .action-bar {
            padding: 20px;
            display: flex;
            gap: 15px;
        }
        .btn {
            flex: 1;
            padding: 16px;
            border: none;
            border-radius: 16px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
        }
        .btn-next {
            background: linear-gradient(135deg, #ff2d55, #c41e3a);
            color: #fff;
            box-shadow: 0 8px 30px rgba(255,45,85,0.4);
        }
        .btn-skip {
            background: rgba(255,255,255,0.05);
            color: rgba(255,255,255,0.5);
            border: 1px solid rgba(255,255,255,0.1);
            flex: 0 0 80px;
        }

        /* è®¾ç½®é¢æ¿ */
        .settings-panel {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.98);
            z-index: 300;
            display: none;
            flex-direction: column;
            padding: 40px 25px;
            overflow-y: auto;
        }
        .settings-panel.open { display: flex; }
        .settings-close {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 40px;
            height: 40px;
            border: none;
            background: none;
            color: rgba(255,255,255,0.5);
            font-size: 2rem;
            cursor: pointer;
        }
        .settings-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 30px;
            text-align: center;
            color: #ff2d55;
        }
        .mode-cards {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        .mode-card {
            padding: 25px 15px;
            border-radius: 20px;
            background: rgba(255,255,255,0.03);
            border: 2px solid rgba(255,255,255,0.1);
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        .mode-card.active {
            background: rgba(255,45,85,0.15);
            border-color: #ff2d55;
            box-shadow: 0 0 40px rgba(255,45,85,0.3);
        }
        .mode-icon { font-size: 2.5rem; margin-bottom: 12px; }
        .mode-name { font-size: 1.1rem; font-weight: 700; color: #fff; margin-bottom: 8px; }
        .mode-desc { font-size: 0.75rem; color: rgba(255,255,255,0.5); line-height: 1.5; }
        .mode-card.active .mode-name { color: #ff2d55; }
        .mode-warning {
            margin-top: 25px;
            text-align: center;
            font-size: 0.8rem;
            color: rgba(255,200,100,0.8);
            padding: 15px;
            background: rgba(255,150,0,0.1);
            border-radius: 12px;
        }

        /* è¯­è¨€é¢æ¿ */
        .lang-panel {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.98);
            z-index: 350;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px 25px;
        }
        .lang-panel.open { display: flex; }
        .lang-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 30px;
            color: #ff2d55;
        }
        .lang-options {
            display: flex;
            flex-direction: column;
            gap: 15px;
            width: 100%;
            max-width: 280px;
        }
        .lang-option {
            padding: 18px 25px;
            background: rgba(255,255,255,0.05);
            border: 2px solid rgba(255,255,255,0.1);
            border-radius: 16px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1.1rem;
        }
        .lang-option:hover, .lang-option.active {
            background: rgba(255,45,85,0.15);
            border-color: #ff2d55;
        }
        .lang-option .flag { font-size: 1.5rem; margin-right: 10px; }

        /* åˆ†è´æ¡ */
        .db-meter {
            position: fixed;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            width: 6px;
            height: 150px;
            background: rgba(255,255,255,0.1);
            border-radius: 3px;
            overflow: hidden;
            z-index: 50;
            display: none;
        }
        .db-meter.active { display: block; }
        .db-fill {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 0%;
            background: linear-gradient(to top, #00ff00, #ffff00, #ff0000);
            border-radius: 3px;
            transition: height 0.1s;
        }

        /* ç«ç„°ç²’å­ */
        .fire-particle {
            position: fixed;
            background: radial-gradient(circle, #ff6030, #ff2000);
            border-radius: 50%;
            pointer-events: none;
            z-index: 150;
        }
    </style>
</head>
<body>
    <div class="bg-heat"></div>
    <div class="pulse-border" id="pulseBorder"></div>
    <div class="flash" id="flash"></div>
    <div class="db-meter" id="dbMeter"><div class="db-fill" id="dbFill"></div></div>
    <button class="music-btn" id="musicBtn">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 18V5l12-2v13"/>
            <circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/>
        </svg>
    </button>

    <div class="game-container">
        <div class="status-bar">
            <span class="logo">MIDNIGHT SPARK</span>
            <div class="header-right">
                <div class="lang-btn" id="langBtn">ğŸŒ ä¸­æ–‡</div>
                <div class="mode-badge" id="modeBadge">ç‹‚é‡</div>
            </div>
        </div>

        <div class="card-area">
            <div class="card" id="card">
                <div class="card-face card-back">
                    <div class="card-back-icon">
                        <svg viewBox="0 0 80 80" fill="none" stroke="#ff6b8a" stroke-width="2.5" stroke-linecap="round">
                            <path d="M40 15c-12 0-22 10-22 22 0 18 22 30 22 30s22-12 22-30c0-12-10-22-22-22z"/>
                            <path d="M40 25c-6 0-12 5-12 12 0 10 12 18 12 18s12-8 12-18c0-7-6-12-12-12z"/>
                        </svg>
                    </div>
                    <div class="card-back-text" id="tapToReveal">ç‚¹å‡»æ­ç¤º</div>
                </div>
                <div class="card-face card-front" id="cardFront"></div>
            </div>
        </div>

        <div class="action-bar">
            <button class="btn btn-skip" id="btnSkip">è·³è¿‡</button>
            <button class="btn btn-next" id="btnNext">ä¸‹ä¸€ä¸ª</button>
        </div>
    </div>

    <div class="settings-panel" id="settingsPanel">
        <button class="settings-close" id="settingsClose">Ã—</button>
        <h2 class="settings-title" id="settingsTitle">é€‰æ‹©ä½ ä»¬çš„å°ºåº¦</h2>
        <div class="mode-cards" id="modeCards">
            <div class="mode-card" data-mode="gentle">
                <div class="mode-name" data-i18n="mode_gentle">æ¸©æŸ”</div>
                <div class="mode-desc" data-i18n="mode_gentle_desc">äº²å»ã€æŠšæ‘¸ã€è½»å’¬<br>é€‚åˆæ…¢æ…¢å‡æ¸©</div>
            </div>
            <div class="mode-card" data-mode="passionate">
                <div class="mode-name" data-i18n="mode_passionate">æ¿€æƒ…</div>
                <div class="mode-desc" data-i18n="mode_passionate_desc">æ·±å…¥æ¢ç´¢ã€å¤šå§¿åŠ¿<br>å¸¸è§„ä½†ä¸æ— èŠ</div>
            </div>
            <div class="mode-card active" data-mode="wild">
                <div class="mode-name" data-i18n="mode_wild">ç‹‚é‡</div>
                <div class="mode-desc" data-i18n="mode_wild_desc">è’™çœ¼ã€æŸç¼šã€æ§åˆ¶<br>æ‰“å¼€æ–°ä¸–ç•Œ</div>
            </div>
            <div class="mode-card" data-mode="extreme">
                <div class="mode-name" data-i18n="mode_extreme">æé™SM</div>
                <div class="mode-desc" data-i18n="mode_extreme_desc">ä¸»å¥´ã€æƒ©ç½šã€ç¾è€»<br>å®Œå…¨è‡£æœæˆ–æ”¯é…</div>
            </div>
        </div>
        <div class="mode-warning" id="modeWarning">è¯·ç¡®ä¿åŒæ–¹å®Œå…¨åŒæ„ï¼Œéšæ—¶å¯ä»¥å–Šåœ</div>
    </div>

    <div class="lang-panel" id="langPanel">
        <h2 class="lang-title">ğŸŒ Select Language</h2>
        <div class="lang-options">
            <div class="lang-option" data-lang="zh"><span class="flag">ğŸ‡¨ğŸ‡³</span>ä¸­æ–‡</div>
            <div class="lang-option" data-lang="en"><span class="flag">ğŸ‡ºğŸ‡¸</span>English</div>
            <div class="lang-option" data-lang="vi"><span class="flag">ğŸ‡»ğŸ‡³</span>Tiáº¿ng Viá»‡t</div>
        </div>
    </div>

<script>
// ==================== å¤šè¯­è¨€ç³»ç»Ÿ ====================
const i18n = {
    zh: {
        tapToReveal: 'ç‚¹å‡»æ­ç¤º',
        skip: 'è·³è¿‡',
        next: 'ä¸‹ä¸€ä¸ª',
        settingsTitle: 'é€‰æ‹©ä½ ä»¬çš„å°ºåº¦',
        modeWarning: 'è¯·ç¡®ä¿åŒæ–¹å®Œå…¨åŒæ„ï¼Œéšæ—¶å¯ä»¥å–Šåœ',
        seconds: 'ç§’',
        done: 'å®Œæˆ',
        clickNext: 'å®Œæˆåç‚¹å‡»ä¸‹ä¸€ä¸ª',
        langName: 'ä¸­æ–‡',
        mode_gentle: 'æ¸©æŸ”',
        mode_passionate: 'æ¿€æƒ…',
        mode_wild: 'ç‹‚é‡',
        mode_extreme: 'æé™SM',
        mode_gentle_desc: 'äº²å»ã€æŠšæ‘¸ã€è½»å’¬<br>é€‚åˆæ…¢æ…¢å‡æ¸©',
        mode_passionate_desc: 'æ·±å…¥æ¢ç´¢ã€å¤šå§¿åŠ¿<br>å¸¸è§„ä½†ä¸æ— èŠ',
        mode_wild_desc: 'è’™çœ¼ã€æŸç¼šã€æ§åˆ¶<br>æ‰“å¼€æ–°ä¸–ç•Œ',
        mode_extreme_desc: 'ä¸»å¥´ã€æƒ©ç½šã€ç¾è€»<br>å®Œå…¨è‡£æœæˆ–æ”¯é…',
        level_1: 'æ¸©æŸ”',
        level_2: 'æŒ‘é€—',
        level_3: 'æ¿€æƒ…',
        level_4: 'ç‹‚é‡',
        level_5: 'æé™',
    },
    en: {
        tapToReveal: 'Tap to Reveal',
        skip: 'Skip',
        next: 'Next',
        settingsTitle: 'Choose Your Intensity',
        modeWarning: 'Ensure mutual consent. You can stop anytime.',
        seconds: 'sec',
        done: 'Done',
        clickNext: 'Tap Next when done',
        langName: 'EN',
        mode_gentle: 'Gentle',
        mode_passionate: 'Passionate',
        mode_wild: 'Wild',
        mode_extreme: 'Extreme',
        mode_gentle_desc: 'Kisses, touches, nibbles<br>Perfect for warming up',
        mode_passionate_desc: 'Deep exploration<br>Classic but exciting',
        mode_wild_desc: 'Blindfolds, restraints<br>Open new doors',
        mode_extreme_desc: 'Power exchange<br>Full submission or control',
        level_1: 'Gentle',
        level_2: 'Tease',
        level_3: 'Passion',
        level_4: 'Wild',
        level_5: 'Extreme',
    },
    vi: {
        tapToReveal: 'Cháº¡m Ä‘á»ƒ má»Ÿ',
        skip: 'Bá» qua',
        next: 'Tiáº¿p theo',
        settingsTitle: 'Chá»n má»©c Ä‘á»™',
        modeWarning: 'Äáº£m báº£o cáº£ hai Ä‘á»“ng Ã½. CÃ³ thá»ƒ dá»«ng báº¥t cá»© lÃºc nÃ o.',
        seconds: 'giÃ¢y',
        done: 'Xong',
        clickNext: 'Nháº¥n Tiáº¿p khi xong',
        langName: 'VI',
        mode_gentle: 'Nháº¹ nhÃ ng',
        mode_passionate: 'Äam mÃª',
        mode_wild: 'Hoang dáº¡i',
        mode_extreme: 'Cá»±c Ä‘á»™',
        mode_gentle_desc: 'HÃ´n, vuá»‘t ve, cáº¯n nháº¹<br>Khá»Ÿi Ä‘á»™ng hoÃ n háº£o',
        mode_passionate_desc: 'KhÃ¡m phÃ¡ sÃ¢u<br>Cá»• Ä‘iá»ƒn nhÆ°ng thÃº vá»‹',
        mode_wild_desc: 'Bá»‹t máº¯t, trÃ³i buá»™c<br>Má»Ÿ cÃ¡nh cá»­a má»›i',
        mode_extreme_desc: 'Trao Ä‘á»•i quyá»n lá»±c<br>HoÃ n toÃ n phá»¥c tÃ¹ng',
        level_1: 'Nháº¹',
        level_2: 'TrÃªu',
        level_3: 'Ná»“ng',
        level_4: 'Dá»¯',
        level_5: 'Cá»±c',
    }
};

// ==================== æŒ‡ä»¤åº“ï¼ˆå¤šè¯­è¨€ï¼‰ ====================
const commands = {
    zh: {
        gentle: [
            { cmd: 'ç”¨å³æ‰‹è½»è½»æ‰˜èµ· TA çš„ä¸‹å·´ï¼Œå…ˆå»é¢å¤´ï¼Œå†å»é¼»å°–ï¼Œæœ€åè½»è§¦å˜´å”‡', level: 1, duration: 30, pose: 'kiss' },
            { cmd: 'ä»èƒŒåç¯æŠ± TAï¼Œå˜´å”‡è´´ç€è€³æœµï¼Œè½»å£°è¯´ä¸€å¥æƒ³å¯¹ TA åšçš„äº‹', level: 1, pose: 'hug' },
            { cmd: 'ç”¨é£ŸæŒ‡ä» TA çš„è€³åæ»‘åˆ°é”éª¨ä¸­å¤®ï¼Œæ¥å›3æ¬¡', level: 1, duration: 20, pose: 'touch' },
            { cmd: 'æ…¢æ…¢è§£å¼€ TA ä¸Šè¡£çš„æ‰£å­ï¼Œæ¯è§£å¼€ä¸€é¢—å°±äº²å»éœ²å‡ºçš„çš®è‚¤', level: 1, pose: 'touch' },
            { cmd: 'æŠŠ TA çš„è€³å‚å«è¿›å˜´é‡Œï¼Œç”¨èˆŒå°–è½»è½»æ‰“åœˆ', level: 1, duration: 15, pose: 'kiss' },
            { cmd: 'åŒæ‰‹æ§ç€ TA çš„è„¸ï¼Œçœ‹ç€ TA çš„çœ¼ç›æ•°åˆ°3ï¼Œç„¶åæ·±å»', level: 1, pose: 'kiss' },
            { cmd: 'æŠŠè„¸åŸ‹è¿› TA çš„è„–é¢ˆï¼Œè®© TA æ„Ÿå—ä½ çš„å‘¼å¸20ç§’', level: 1, duration: 20, pose: 'hug' },
            { cmd: 'ç”¨èˆŒå°–ä»é”éª¨ä¸­å¤®èˆ”åˆ°èƒ¸å£æ­£ä¸­é—´ï¼Œé€Ÿåº¦è¦æ…¢', level: 2, duration: 20, pose: 'touch' },
            { cmd: 'éš”ç€å†…è¡£æ‰ TA çš„èƒ¸éƒ¨ï¼Œé¡ºæ—¶é’ˆ5åœˆï¼Œé€†æ—¶é’ˆ5åœˆ', level: 2, duration: 30, pose: 'touch' },
            { cmd: 'å’¬ä½ TA çš„ä¸‹å˜´å”‡å¾€å¤–æ‹‰ï¼Œåœ2ç§’æ”¾å¼€ï¼Œé‡å¤3æ¬¡', level: 2, duration: 15, pose: 'kiss' },
            { cmd: 'ç”¨å˜´å”‡å«ä½ TA çš„ä¹³å¤´ï¼ŒèˆŒå¤´ç”»åœˆï¼Œå·¦å³å„30ç§’', level: 2, duration: 60, pose: 'lying' },
            { cmd: 'æ‰‹ä»è†ç›–å¾€ä¸Šæ»‘åˆ°å¤§è…¿å†…ä¾§ï¼Œåœåœ¨ç¦»ç§å¤„5å˜ç±³å¤„', level: 2, duration: 30, pose: 'touch' },
        ],
        passionate: [
            { cmd: 'é€‰ TA è„–å­æˆ–èƒ¸å£çš„ä½ç½®ï¼Œç”¨åŠ›å¸å®15ç§’ï¼Œç•™ä¸‹å°è®°', level: 3, duration: 15, pose: 'kiss' },
            { cmd: 'è®© TA è¶´ç€ï¼Œä½ ä»åé¢è¿›å…¥ï¼ŒåŒæ‰‹æŒ‰ä½è‚©è†€ï¼ŒåŒ€é€ŸåŠ¨1åˆ†é’Ÿ', level: 3, duration: 60, pose: 'doggy' },
            { cmd: 'TA ååœ¨ä½ èº«ä¸Šé¢å¯¹ä½ ï¼Œç”¨åŒæ‰‹æ¡ä½è…°æ§åˆ¶ä¸Šä¸‹èŠ‚å¥', level: 3, pose: 'cowgirl' },
            { cmd: 'æŠŠ TA çš„åŒè…¿æŠ¬åˆ°è‚©è†€ä¸Šï¼ŒåŒæ‰‹æŠ“ä½è„šè¸ï¼Œæ·±å…¥æ…¢å‡º', level: 3, pose: 'legs_up' },
            { cmd: 'ç”¨ä¸¤æ ¹æ‰‹æŒ‡è¿›å…¥ï¼Œå‘ä¸Šå‹¾èµ·æ‰¾Gç‚¹ï¼Œæ‹‡æŒ‡åŒæ—¶åˆºæ¿€å¤–é¢', level: 3, duration: 60, pose: 'touch' },
            { cmd: 'æ¢åˆ°æ²™å‘/æ¤…å­/å¨æˆ¿å°é¢ä¸Šç»§ç»­', level: 3, pose: 'wall' },
            { cmd: 'è®© TA è·ªä¸‹ç”¨å˜´æœåŠ¡ä½ ï¼Œä¸€åªæ‰‹æ”¾ TA å¤´ä¸Šå¼•å¯¼èŠ‚å¥', level: 3, duration: 120, pose: 'oral' },
            { cmd: 'æŠŠ TA æŠµåœ¨å¢™ä¸Šï¼ŒæŠ¬èµ·ä¸€æ¡è…¿ï¼Œé¢å¯¹é¢è¿›å…¥', level: 3, pose: 'wall' },
            { cmd: 'ä¿æŒå½“å‰å§¿åŠ¿ï¼Œé€Ÿåº¦åŠ åˆ°æœ€å¿«ï¼Œç»´æŒ30ç§’', level: 3, duration: 30, pose: 'cowgirl' },
            { cmd: '69å§¿åŠ¿ï¼šäº’ç›¸ç”¨å˜´æœåŠ¡å¯¹æ–¹2åˆ†é’Ÿ', level: 3, duration: 120, pose: 'sixtynine' },
            { cmd: 'åŒæ‰‹æ‰˜ä½è‡€éƒ¨æŠŠ TA æŠ±èµ·æ¥ï¼Œç«™ç€åš1åˆ†é’Ÿ', level: 3, duration: 60, pose: 'carry' },
        ],
        wild: [
            { cmd: 'è’™ä½ TA çš„çœ¼ç›å¹¶ç³»ç´§ï¼Œç„¶åéšæœºè§¦ç¢°èº«ä½“å„å¤„è®©TAçŒœ', level: 4, pose: 'blindfold' },
            { cmd: 'ç”¨æ‰‹æŒæ‹æ‰“ TA çš„è‡€éƒ¨ï¼Œå·¦å³å„5ä¸‹ï¼ŒåŠ›åº¦åˆ° TA å«å‡ºå£°', level: 4, pose: 'spank' },
            { cmd: 'è®© TA è¶´ç€ï¼Œä»åé¢è¿›å…¥ï¼Œä¸€åªæ‰‹æ‹½ä½å¤´å‘å‘åæ‹‰', level: 4, pose: 'hairpull' },
            { cmd: 'ç”¨ä¸å·¾/é¢†å¸¦ç»‘ä½ TA çš„åŒæ‰‹åˆ°åºŠå¤´', level: 4, pose: 'tied' },
            { cmd: 'å‘Šè¯‰ TA æ¥ä¸‹æ¥1åˆ†é’Ÿä¸å‡†å‡ºå£°ï¼Œå«ä¸€æ¬¡å°±æ‰“ä¸€ä¸‹å±è‚¡', level: 4, duration: 60, pose: 'spank' },
            { cmd: 'åˆºæ¿€ TA ç›´åˆ°å¿«è¦é«˜æ½®ç„¶ååœä¸‹30ç§’ï¼Œé‡å¤3æ¬¡å†è®© TA é‡Šæ”¾', level: 5, pose: 'blindfold' },
            { cmd: 'è’™çœ¼+ç»‘æ‰‹ï¼Œè®© TA åªèƒ½è¢«åŠ¨æ„Ÿå—ä½ çš„æ¯ä¸€ä¸ªåŠ¨ä½œ', level: 5, pose: 'tied' },
            { cmd: 'TA å¿…é¡»å®Œå…¨æœä»ä½ æ¥ä¸‹æ¥3åˆ†é’Ÿçš„æ‰€æœ‰æŒ‡ä»¤', level: 5, duration: 180, pose: 'kneel' },
            { cmd: 'ç”¨çš®å¸¦è½»è½»æŠ½æ‰“ TA çš„è‡€éƒ¨ï¼Œé—®TAï¼šè¿˜è¦ä¸è¦ï¼Ÿ', level: 4, pose: 'spank' },
            { cmd: 'è®© TA è·ªåœ¨åœ°ä¸Šï¼Œä»°å¤´çœ‹ç€ä½ ï¼Œç”¨æ‰‹æ‰˜ä½ TA çš„ä¸‹å·´', level: 4, pose: 'kneel' },
        ],
        extreme: [
            { cmd: 'å‘½ä»¤ TA è·ªä¸‹ï¼ŒåŒæ‰‹èƒŒåï¼Œçœ¼ç›çœ‹åœ°é¢ï¼Œå«ä½ "ä¸»äºº"', level: 5, pose: 'kneel' },
            { cmd: 'ç”¨é¡¹åœˆå¥—ä½ TA çš„è„–å­ï¼Œç‰µç€é“¾å­è®© TA çˆ¬å‘åºŠ', level: 5, pose: 'collar' },
            { cmd: 'è®© TA è¶´åœ¨ä½ è…¿ä¸Šï¼Œæ‰“10ä¸‹å±è‚¡ï¼Œæ¯ä¸€ä¸‹éƒ½è¦ TA æ•°å‡ºæ¥å¹¶è¯´è°¢è°¢', level: 5, pose: 'spank' },
            { cmd: 'æŠŠ TA ç»‘æˆå¤§å­—å‹å›ºå®šåœ¨åºŠä¸Šï¼Œè’™çœ¼å µå˜´ï¼Œä»»ä½ æ‘†å¸ƒ', level: 5, duration: 180, pose: 'xpose' },
            { cmd: 'ç”¨ä½æ¸©èœ¡çƒ›æ²¹æ»´åœ¨ TA çš„èƒ¸å£å’Œå°è…¹ï¼ˆå…ˆæµ‹è¯•æ¸©åº¦ï¼ï¼‰', level: 5, pose: 'candle' },
            { cmd: 'å‘½ä»¤ TA è‡ªå·±æ‰©å¼ ç»™ä½ çœ‹ï¼Œä¸å‡†ç§»å¼€è§†çº¿', level: 5, duration: 60, pose: 'obey' },
            { cmd: 'è®© TA ç©¿ä¸Šä½ é€‰çš„ç¾è€»playæœè£…ï¼Œåœ¨ä½ é¢å‰è¡¨æ¼”', level: 5, pose: 'obey' },
            { cmd: 'æŠŠ TA åç»‘è’™çœ¼ï¼Œæ”¾ç€ä¸ç®¡2åˆ†é’Ÿï¼Œè®© TA åœ¨æœŸå¾…ä¸­ç…ç†¬', level: 5, duration: 120, pose: 'blindfold' },
            { cmd: 'è®© TA æ±‚ä½ ï¼Œæ±‚å¾—ä¸å¤Ÿè¯šæ³å°±ä¸ç»™ï¼Œç›´åˆ°ä½ æ»¡æ„', level: 5, pose: 'kneel' },
        ],
    },
    en: {
        gentle: [
            { cmd: 'Gently lift their chin, kiss forehead first, then nose tip, finally touch lips softly', level: 1, duration: 30, pose: 'kiss' },
            { cmd: 'Hug them from behind, whisper in their ear something you want to do to them', level: 1, pose: 'hug' },
            { cmd: 'Slide your finger from behind their ear to the center of their collarbone, 3 times', level: 1, duration: 20, pose: 'touch' },
            { cmd: 'Slowly unbutton their shirt, kiss the exposed skin with each button', level: 1, pose: 'touch' },
            { cmd: 'Take their earlobe in your mouth, trace circles with your tongue', level: 1, duration: 15, pose: 'kiss' },
            { cmd: 'Cup their face with both hands, look into their eyes, count to 3, then kiss deeply', level: 1, pose: 'kiss' },
            { cmd: 'Bury your face in their neck, let them feel your breath for 20 seconds', level: 1, duration: 20, pose: 'hug' },
            { cmd: 'Lick from their collarbone to the center of their chest, go slowly', level: 2, duration: 20, pose: 'touch' },
            { cmd: 'Massage their chest over underwear, 5 circles clockwise, 5 counter-clockwise', level: 2, duration: 30, pose: 'touch' },
            { cmd: 'Bite and pull their lower lip, hold for 2 seconds, repeat 3 times', level: 2, duration: 15, pose: 'kiss' },
            { cmd: 'Take their nipple in your mouth, circle with tongue, 30 seconds each side', level: 2, duration: 60, pose: 'lying' },
            { cmd: 'Slide hand from knee up inner thigh, stop 2 inches from intimate area', level: 2, duration: 30, pose: 'touch' },
        ],
        passionate: [
            { cmd: 'Choose a spot on neck or chest, suck hard for 15 seconds to leave a mark', level: 3, duration: 15, pose: 'kiss' },
            { cmd: 'Have them lie face down, enter from behind, hands on shoulders, steady pace for 1 min', level: 3, duration: 60, pose: 'doggy' },
            { cmd: 'They sit on you facing you, grip their waist to control the rhythm', level: 3, pose: 'cowgirl' },
            { cmd: 'Lift their legs to your shoulders, hold ankles, deep and slow', level: 3, pose: 'legs_up' },
            { cmd: 'Use two fingers inside, curl up to find G-spot, thumb stimulates outside', level: 3, duration: 60, pose: 'touch' },
            { cmd: 'Move to the couch, chair, or kitchen counter and continue there', level: 3, pose: 'wall' },
            { cmd: 'Have them kneel and use their mouth, one hand on head to guide rhythm', level: 3, duration: 120, pose: 'oral' },
            { cmd: 'Pin them against the wall, lift one leg, enter face to face', level: 3, pose: 'wall' },
            { cmd: 'Keep current position, go as fast as possible for 30 seconds', level: 3, duration: 30, pose: 'cowgirl' },
            { cmd: '69 position: pleasure each other with mouths for 2 minutes', level: 3, duration: 120, pose: 'sixtynine' },
            { cmd: 'Lift them by the hips, do it standing for 1 minute', level: 3, duration: 60, pose: 'carry' },
        ],
        wild: [
            { cmd: 'Blindfold them tightly, then touch random body parts and make them guess', level: 4, pose: 'blindfold' },
            { cmd: 'Spank their bottom, 5 on each side, hard enough to make them moan', level: 4, pose: 'spank' },
            { cmd: 'Have them lie face down, enter from behind, pull their hair back with one hand', level: 4, pose: 'hairpull' },
            { cmd: 'Tie their hands to the headboard with a scarf or tie', level: 4, pose: 'tied' },
            { cmd: 'Tell them no sounds for 1 minute, one spank for each noise they make', level: 4, duration: 60, pose: 'spank' },
            { cmd: 'Edge them to almost climax then stop for 30 sec, repeat 3 times before release', level: 5, pose: 'blindfold' },
            { cmd: 'Blindfold + tied hands, they can only passively feel everything you do', level: 5, pose: 'tied' },
            { cmd: 'They must obey every command for the next 3 minutes', level: 5, duration: 180, pose: 'kneel' },
            { cmd: 'Lightly whip their bottom with a belt, ask: do you want more?', level: 4, pose: 'spank' },
            { cmd: 'Have them kneel, look up at you, hold their chin with your hand', level: 4, pose: 'kneel' },
        ],
        extreme: [
            { cmd: 'Command them to kneel, hands behind back, eyes down, call you "Master"', level: 5, pose: 'kneel' },
            { cmd: 'Put a collar around their neck, lead them by leash to crawl to bed', level: 5, pose: 'collar' },
            { cmd: 'Have them lie across your lap, 10 spanks, they count each and say thank you', level: 5, pose: 'spank' },
            { cmd: 'Tie them spread-eagle on bed, blindfolded and gagged, at your mercy', level: 5, duration: 180, pose: 'xpose' },
            { cmd: 'Drip low-temp candle wax on chest and belly (test temperature first!)', level: 5, pose: 'candle' },
            { cmd: 'Command them to prepare themselves while you watch, no looking away', level: 5, duration: 60, pose: 'obey' },
            { cmd: 'Have them wear the embarrassing outfit you choose and perform for you', level: 5, pose: 'obey' },
            { cmd: 'Tie and blindfold them, leave them waiting for 2 min in anticipation', level: 5, duration: 120, pose: 'blindfold' },
            { cmd: 'Make them beg, not sincere enough means no, until you are satisfied', level: 5, pose: 'kneel' },
        ],
    },
    vi: {
        gentle: [
            { cmd: 'Nháº¹ nhÃ ng nÃ¢ng cáº±m há», hÃ´n trÃ¡n trÆ°á»›c, rá»“i mÅ©i, cuá»‘i cÃ¹ng cháº¡m mÃ´i nháº¹', level: 1, duration: 30, pose: 'kiss' },
            { cmd: 'Ã”m há» tá»« phÃ­a sau, thÃ¬ tháº§m vÃ o tai Ä‘iá»u báº¡n muá»‘n lÃ m vá»›i há»', level: 1, pose: 'hug' },
            { cmd: 'Vuá»‘t ngÃ³n tay tá»« sau tai Ä‘áº¿n giá»¯a xÆ°Æ¡ng quai xanh, 3 láº§n', level: 1, duration: 20, pose: 'touch' },
            { cmd: 'Tá»« tá»« cá»Ÿi nÃºt Ã¡o há», hÃ´n tá»«ng vÃ¹ng da lá»™ ra', level: 1, pose: 'touch' },
            { cmd: 'Ngáº­m dÃ¡i tai há», dÃ¹ng lÆ°á»¡i váº½ vÃ²ng trÃ²n', level: 1, duration: 15, pose: 'kiss' },
            { cmd: 'Ã”m máº·t há» báº±ng hai tay, nhÃ¬n vÃ o máº¯t, Ä‘áº¿m Ä‘áº¿n 3, rá»“i hÃ´n sÃ¢u', level: 1, pose: 'kiss' },
            { cmd: 'VÃ¹i máº·t vÃ o cá»• há», Ä‘á»ƒ há» cáº£m nháº­n hÆ¡i thá»Ÿ cá»§a báº¡n 20 giÃ¢y', level: 1, duration: 20, pose: 'hug' },
            { cmd: 'Liáº¿m tá»« xÆ°Æ¡ng quai xanh Ä‘áº¿n giá»¯a ngá»±c, tháº­t cháº­m', level: 2, duration: 20, pose: 'touch' },
            { cmd: 'Xoa ngá»±c há» qua Ä‘á»“ lÃ³t, 5 vÃ²ng thuáº­n, 5 vÃ²ng ngÆ°á»£c', level: 2, duration: 30, pose: 'touch' },
            { cmd: 'Cáº¯n vÃ  kÃ©o mÃ´i dÆ°á»›i há», giá»¯ 2 giÃ¢y, láº·p láº¡i 3 láº§n', level: 2, duration: 15, pose: 'kiss' },
            { cmd: 'Ngáº­m nÃºm vÃº há», lÆ°á»¡i váº½ vÃ²ng trÃ²n, má»—i bÃªn 30 giÃ¢y', level: 2, duration: 60, pose: 'lying' },
            { cmd: 'Vuá»‘t tay tá»« Ä‘áº§u gá»‘i lÃªn Ä‘Ã¹i trong, dá»«ng cÃ¡ch vÃ¹ng kÃ­n 5cm', level: 2, duration: 30, pose: 'touch' },
        ],
        passionate: [
            { cmd: 'Chá»n má»™t Ä‘iá»ƒm trÃªn cá»• hoáº·c ngá»±c, hÃºt máº¡nh 15 giÃ¢y Ä‘á»ƒ láº¡i dáº¥u', level: 3, duration: 15, pose: 'kiss' },
            { cmd: 'Äá»ƒ há» náº±m sáº¥p, vÃ o tá»« phÃ­a sau, tay Ä‘Ã¨ vai, nhá»‹p Ä‘á»u 1 phÃºt', level: 3, duration: 60, pose: 'doggy' },
            { cmd: 'Há» ngá»“i lÃªn báº¡n Ä‘á»‘i máº·t, náº¯m eo há» Ä‘iá»u khiá»ƒn nhá»‹p Ä‘á»™', level: 3, pose: 'cowgirl' },
            { cmd: 'NÃ¢ng chÃ¢n há» lÃªn vai, giá»¯ máº¯t cÃ¡ chÃ¢n, vÃ o sÃ¢u ra cháº­m', level: 3, pose: 'legs_up' },
            { cmd: 'DÃ¹ng hai ngÃ³n tay, cong lÃªn tÃ¬m Ä‘iá»ƒm G, ngÃ³n cÃ¡i kÃ­ch thÃ­ch bÃªn ngoÃ i', level: 3, duration: 60, pose: 'touch' },
            { cmd: 'Di chuyá»ƒn sang sofa, gháº¿, hoáº·c bÃ n báº¿p vÃ  tiáº¿p tá»¥c á»Ÿ Ä‘Ã³', level: 3, pose: 'wall' },
            { cmd: 'Äá»ƒ há» quá»³ xuá»‘ng dÃ¹ng miá»‡ng phá»¥c vá»¥, má»™t tay trÃªn Ä‘áº§u dáº«n nhá»‹p', level: 3, duration: 120, pose: 'oral' },
            { cmd: 'Äáº©y há» vÃ o tÆ°á»ng, nÃ¢ng má»™t chÃ¢n, vÃ o máº·t Ä‘á»‘i máº·t', level: 3, pose: 'wall' },
            { cmd: 'Giá»¯ nguyÃªn tÆ° tháº¿, Ä‘i nhanh nháº¥t cÃ³ thá»ƒ trong 30 giÃ¢y', level: 3, duration: 30, pose: 'cowgirl' },
            { cmd: 'TÆ° tháº¿ 69: dÃ¹ng miá»‡ng phá»¥c vá»¥ nhau 2 phÃºt', level: 3, duration: 120, pose: 'sixtynine' },
            { cmd: 'NÃ¢ng há» báº±ng hÃ´ng, lÃ m Ä‘á»©ng trong 1 phÃºt', level: 3, duration: 60, pose: 'carry' },
        ],
        wild: [
            { cmd: 'Bá»‹t máº¯t há» cháº·t, rá»“i cháº¡m ngáº«u nhiÃªn cÃ¡c bá»™ pháº­n Ä‘á»ƒ há» Ä‘oÃ¡n', level: 4, pose: 'blindfold' },
            { cmd: 'TÃ¡t mÃ´ng há», má»—i bÃªn 5 cÃ¡i, Ä‘á»§ máº¡nh Ä‘á»ƒ há» rÃªn lÃªn', level: 4, pose: 'spank' },
            { cmd: 'Äá»ƒ há» náº±m sáº¥p, vÃ o tá»« sau, má»™t tay kÃ©o tÃ³c há» ra sau', level: 4, pose: 'hairpull' },
            { cmd: 'TrÃ³i tay há» vÃ o Ä‘áº§u giÆ°á»ng báº±ng khÄƒn hoáº·c cÃ  váº¡t', level: 4, pose: 'tied' },
            { cmd: 'Báº£o há» im láº·ng 1 phÃºt, má»—i tiáº¿ng kÃªu lÃ  má»™t cÃ¡i tÃ¡t mÃ´ng', level: 4, duration: 60, pose: 'spank' },
            { cmd: 'ÄÆ°a há» gáº§n Ä‘á»‰nh rá»“i dá»«ng 30 giÃ¢y, láº·p láº¡i 3 láº§n trÆ°á»›c khi cho phÃ©p', level: 5, pose: 'blindfold' },
            { cmd: 'Bá»‹t máº¯t + trÃ³i tay, há» chá»‰ cÃ³ thá»ƒ thá»¥ Ä‘á»™ng cáº£m nháº­n má»i thá»©', level: 5, pose: 'tied' },
            { cmd: 'Há» pháº£i tuÃ¢n theo má»i má»‡nh lá»‡nh trong 3 phÃºt tá»›i', level: 5, duration: 180, pose: 'kneel' },
            { cmd: 'Nháº¹ nhÃ ng quáº¥t mÃ´ng há» báº±ng tháº¯t lÆ°ng, há»i: cÃ²n muá»‘n ná»¯a khÃ´ng?', level: 4, pose: 'spank' },
            { cmd: 'Äá»ƒ há» quá»³ xuá»‘ng, ngÆ°á»›c nhÃ¬n báº¡n, giá»¯ cáº±m há» báº±ng tay', level: 4, pose: 'kneel' },
        ],
        extreme: [
            { cmd: 'Ra lá»‡nh há» quá»³, tay sau lÆ°ng, máº¯t nhÃ¬n xuá»‘ng, gá»i báº¡n lÃ  "Chá»§ nhÃ¢n"', level: 5, pose: 'kneel' },
            { cmd: 'Äeo vÃ²ng cá»• cho há», dáº¯t báº±ng dÃ¢y xÃ­ch Ä‘á»ƒ há» bÃ² vá» giÆ°á»ng', level: 5, pose: 'collar' },
            { cmd: 'Äá»ƒ há» náº±m ngang chÃ¢n báº¡n, 10 cÃ¡i tÃ¡t, há» Ä‘áº¿m vÃ  nÃ³i cáº£m Æ¡n', level: 5, pose: 'spank' },
            { cmd: 'TrÃ³i há» hÃ¬nh chá»¯ X trÃªn giÆ°á»ng, bá»‹t máº¯t vÃ  miá»‡ng, tÃ¹y báº¡n xá»­ lÃ½', level: 5, duration: 180, pose: 'xpose' },
            { cmd: 'Nhá» sÃ¡p náº¿n nhiá»‡t Ä‘á»™ tháº¥p lÃªn ngá»±c vÃ  bá»¥ng (test nhiá»‡t Ä‘á»™ trÆ°á»›c!)', level: 5, pose: 'candle' },
            { cmd: 'Ra lá»‡nh há» tá»± chuáº©n bá»‹ trong khi báº¡n xem, khÃ´ng Ä‘Æ°á»£c nhÃ¬n Ä‘i chá»— khÃ¡c', level: 5, duration: 60, pose: 'obey' },
            { cmd: 'Báº¯t há» máº·c bá»™ Ä‘á»“ xáº¥u há»• báº¡n chá»n vÃ  biá»ƒu diá»…n cho báº¡n', level: 5, pose: 'obey' },
            { cmd: 'TrÃ³i vÃ  bá»‹t máº¯t há», bá» máº·c 2 phÃºt trong sá»± chá» Ä‘á»£i', level: 5, duration: 120, pose: 'blindfold' },
            { cmd: 'Báº¯t há» cáº§u xin, chÆ°a Ä‘á»§ thÃ nh kháº©n thÃ¬ khÃ´ng cho, Ä‘áº¿n khi báº¡n hÃ i lÃ²ng', level: 5, pose: 'kneel' },
        ],
    },
};

// ==================== SVGçº¿æ¡å›¾åº“ ====================
const poseSVGs = {
    kiss: `<svg viewBox="0 0 100 80" fill="none" stroke="#ff6b8a" stroke-width="2" stroke-linecap="round"><ellipse cx="30" cy="28" rx="12" ry="14"/><ellipse cx="70" cy="28" rx="12" ry="14"/><path d="M42 28c4 3 12 3 16 0"/><path d="M30 42v20M70 42v20"/><path d="M25 35c-8 3-12 10-8 18M75 35c8 3 12 10 8 18"/></svg>`,
    hug: `<svg viewBox="0 0 100 80" fill="none" stroke="#ff6b8a" stroke-width="2" stroke-linecap="round"><ellipse cx="35" cy="22" rx="10" ry="12"/><ellipse cx="65" cy="22" rx="10" ry="12"/><path d="M35 34v25M65 34v25"/><path d="M25 40c-8 5-8 18 0 22l10 3"/><path d="M75 40c8 5 8 18 0 22l-10 3"/><path d="M40 48h20"/></svg>`,
    touch: `<svg viewBox="0 0 100 80" fill="none" stroke="#ff6b8a" stroke-width="2" stroke-linecap="round"><ellipse cx="65" cy="25" rx="12" ry="14"/><path d="M65 39v22"/><path d="M20 55c12-18 28-28 45-32"/><path d="M20 55l-5 8M20 55l8 2"/><circle cx="30" cy="45" r="2" fill="#ff6b8a"/><circle cx="42" cy="38" r="2" fill="#ff6b8a"/><circle cx="54" cy="32" r="2" fill="#ff6b8a"/></svg>`,
    lying: `<svg viewBox="0 0 100 80" fill="none" stroke="#ff6b8a" stroke-width="2" stroke-linecap="round"><ellipse cx="20" cy="40" rx="10" ry="8"/><path d="M30 40h50"/><path d="M80 40c5 0 8 5 8 10"/><path d="M80 55l8 12M30 42c8 6 18 8 28 5"/><ellipse cx="55" cy="38" rx="6" ry="4"/></svg>`,
    doggy: `<svg viewBox="0 0 100 80" fill="none" stroke="#ff6b8a" stroke-width="2" stroke-linecap="round"><ellipse cx="25" cy="45" rx="9" ry="7"/><path d="M34 45l22-8"/><path d="M56 37l12 22M56 37l10-18"/><path d="M17 48l-8 18M17 42l-12-8"/><ellipse cx="72" cy="28" rx="9" ry="11"/><path d="M72 39v22M64 61h16"/><path d="M28 42c6-3 14-3 20 0"/></svg>`,
    cowgirl: `<svg viewBox="0 0 100 80" fill="none" stroke="#ff6b8a" stroke-width="2" stroke-linecap="round"><ellipse cx="50" cy="18" rx="9" ry="11"/><path d="M50 29v18"/><path d="M35 55c0-5 7-10 15-10s15 5 15 10"/><ellipse cx="50" cy="58" rx="18" ry="8"/><path d="M32 58l-8 12M68 58l8 12"/><path d="M42 40c5-3 11-3 16 0"/></svg>`,
    legs_up: `<svg viewBox="0 0 100 80" fill="none" stroke="#ff6b8a" stroke-width="2" stroke-linecap="round"><ellipse cx="30" cy="50" rx="10" ry="8"/><path d="M30 42l18-28M30 42l-18-22"/><path d="M40 50h22"/><ellipse cx="72" cy="38" rx="9" ry="11"/><path d="M72 49v15M64 64h16"/><circle cx="48" cy="14" r="3" fill="#ff6b8a"/><circle cx="12" cy="20" r="3" fill="#ff6b8a"/></svg>`,
    oral: `<svg viewBox="0 0 100 80" fill="none" stroke="#ff6b8a" stroke-width="2" stroke-linecap="round"><ellipse cx="50" cy="20" rx="9" ry="11"/><path d="M50 31v12"/><ellipse cx="50" cy="52" rx="15" ry="10"/><path d="M35 52l-10 18M65 52l10 18"/><path d="M45 45c3-2 7-2 10 0"/></svg>`,
    wall: `<svg viewBox="0 0 100 80" fill="none" stroke="#ff6b8a" stroke-width="2" stroke-linecap="round"><path d="M15 5v70" stroke-width="3"/><ellipse cx="30" cy="22" rx="8" ry="10"/><path d="M30 32v22M22 54l-7 18M38 54l8 12"/><ellipse cx="55" cy="28" rx="8" ry="10"/><path d="M55 38v18M47 56l-5 16M63 56l5 16"/><path d="M35 45c5-5 12-5 17 0"/></svg>`,
    sixtynine: `<svg viewBox="0 0 100 80" fill="none" stroke="#ff6b8a" stroke-width="2" stroke-linecap="round"><ellipse cx="22" cy="28" rx="9" ry="7"/><path d="M31 28h40"/><path d="M22 35l-10 20M22 21l-8-15"/><ellipse cx="78" cy="52" rx="9" ry="7"/><path d="M78 45l10-20M78 59l8 15"/></svg>`,
    carry: `<svg viewBox="0 0 100 80" fill="none" stroke="#ff6b8a" stroke-width="2" stroke-linecap="round"><ellipse cx="50" cy="12" rx="8" ry="10"/><ellipse cx="50" cy="35" rx="7" ry="9"/><path d="M50 22v6"/><path d="M43 44l-10 22M57 44l10 22"/><path d="M33 30c-10 5-12 18-5 25"/><path d="M67 30c10 5 12 18 5 25"/><path d="M42 50c5 4 11 4 16 0"/></svg>`,
    blindfold: `<svg viewBox="0 0 100 80" fill="none" stroke="#ff6b8a" stroke-width="2" stroke-linecap="round"><ellipse cx="50" cy="25" rx="12" ry="15"/><path d="M30 20h40" stroke-width="4"/><path d="M50 40v18"/><path d="M35 58h30"/><path d="M38 58l-8 16M62 58l8 16"/></svg>`,
    spank: `<svg viewBox="0 0 100 80" fill="none" stroke="#ff6b8a" stroke-width="2" stroke-linecap="round"><ellipse cx="35" cy="48" rx="16" ry="12"/><path d="M19 48l-10 22M51 48l10 16"/><ellipse cx="25" cy="35" rx="8" ry="6"/><path d="M72 20l-18 22" stroke-width="3"/><path d="M58 28l6-12M58 28l12 2"/><path d="M54 42l-4 6M58 38l6 4"/></svg>`,
    hairpull: `<svg viewBox="0 0 100 80" fill="none" stroke="#ff6b8a" stroke-width="2" stroke-linecap="round"><ellipse cx="30" cy="32" rx="11" ry="13"/><path d="M25 19c-6-12 2-18 12-16s14 10 8 20"/><path d="M42 22l28-10"/><path d="M70 12l6-6M70 12l6 4"/><path d="M30 45v20M20 65h20"/></svg>`,
    tied: `<svg viewBox="0 0 100 80" fill="none" stroke="#ff6b8a" stroke-width="2" stroke-linecap="round"><ellipse cx="50" cy="18" rx="9" ry="11"/><path d="M50 29v25"/><path d="M30 38h40"/><path d="M30 38l-12-25M70 38l12-25"/><rect x="15" y="10" width="8" height="6" rx="1"/><rect x="77" y="10" width="8" height="6" rx="1"/><path d="M40 54l-8 18M60 54l8 18"/></svg>`,
    kneel: `<svg viewBox="0 0 100 80" fill="none" stroke="#ff6b8a" stroke-width="2" stroke-linecap="round"><ellipse cx="50" cy="18" rx="9" ry="11"/><path d="M50 29v22"/><path d="M35 51c0 12 7 20 15 20s15-8 15-20"/><path d="M38 55l-15 8M62 55l15 8"/><path d="M45 38c3-3 7-3 10 0"/></svg>`,
    collar: `<svg viewBox="0 0 100 80" fill="none" stroke="#ff6b8a" stroke-width="2" stroke-linecap="round"><ellipse cx="30" cy="22" rx="9" ry="11"/><ellipse cx="30" cy="36" rx="7" ry="4" stroke-width="3"/><path d="M37 36l45 25"/><circle cx="82" cy="61" r="4"/><path d="M30 40v25"/><path d="M20 65l-8 10M40 65l8 10"/></svg>`,
    xpose: `<svg viewBox="0 0 100 80" fill="none" stroke="#ff6b8a" stroke-width="2" stroke-linecap="round"><ellipse cx="50" cy="18" rx="9" ry="11"/><path d="M50 29v25"/><path d="M18 30l32 8M82 30l-32 8"/><path d="M32 54l-18 20M68 54l18 20"/><circle cx="18" cy="30" r="4" fill="#ff6b8a"/><circle cx="82" cy="30" r="4" fill="#ff6b8a"/><circle cx="14" cy="74" r="4" fill="#ff6b8a"/><circle cx="86" cy="74" r="4" fill="#ff6b8a"/></svg>`,
    candle: `<svg viewBox="0 0 100 80" fill="none" stroke="#ff6b8a" stroke-width="2" stroke-linecap="round"><path d="M50 8c-4 6-4 12 0 18s4 10 0 16"/><rect x="44" y="24" width="12" height="32" rx="2"/><ellipse cx="50" cy="65" rx="20" ry="8"/><circle cx="50" cy="45" r="2" fill="#ff6b8a"/><circle cx="50" cy="52" r="2" fill="#ff6b8a"/><path d="M35 62c-5 4-5 10 0 13M65 62c5 4 5 10 0 13"/></svg>`,
    obey: `<svg viewBox="0 0 100 80" fill="none" stroke="#ff6b8a" stroke-width="2" stroke-linecap="round"><ellipse cx="50" cy="48" rx="9" ry="11"/><path d="M50 59v12"/><path d="M35 71c0 4 7 7 15 7s15-3 15-7"/><path d="M41 37l-18-25M59 37l18-25"/><path d="M23 12l-6-6M23 12l6-2"/><path d="M77 12l6-6M77 12l-6-2"/></svg>`,
};

const levelColors = { 1: '#ff9ed2', 2: '#ff6b9d', 3: '#ff4757', 4: '#c41e3a', 5: '#8b0000' };

// ==================== çŠ¶æ€ ====================
let currentLang = localStorage.getItem('lang') || 'zh';
let gameMode = 'wild';
let isFlipped = false;
let timerInterval = null;

// ==================== DOM ====================
const card = document.getElementById('card');
const cardFront = document.getElementById('cardFront');
const pulseBorder = document.getElementById('pulseBorder');
const flash = document.getElementById('flash');
const settingsPanel = document.getElementById('settingsPanel');
const modeBadge = document.getElementById('modeBadge');
const dbMeter = document.getElementById('dbMeter');
const dbFill = document.getElementById('dbFill');
const musicBtn = document.getElementById('musicBtn');
const langBtn = document.getElementById('langBtn');
const langPanel = document.getElementById('langPanel');

// ==================== å¤šè¯­è¨€åˆ‡æ¢ ====================
function updateUI() {
    const t = i18n[currentLang];
    document.getElementById('tapToReveal').textContent = t.tapToReveal;
    document.getElementById('btnSkip').textContent = t.skip;
    document.getElementById('btnNext').textContent = t.next;
    document.getElementById('settingsTitle').textContent = t.settingsTitle;
    document.getElementById('modeWarning').textContent = t.modeWarning;
    langBtn.textContent = 'ğŸŒ ' + t.langName;

    // æ›´æ–°æ¨¡å¼åç§°
    document.querySelectorAll('.mode-card').forEach(card => {
        const mode = card.dataset.mode;
        card.querySelector('.mode-name').innerHTML = t['mode_' + mode];
        card.querySelector('.mode-desc').innerHTML = t['mode_' + mode + '_desc'];
    });

    // æ›´æ–°å½“å‰æ¨¡å¼å¾½ç« 
    modeBadge.textContent = t['mode_' + gameMode];

    // æ›´æ–°è¯­è¨€é€‰é¡¹çš„æ¿€æ´»çŠ¶æ€
    document.querySelectorAll('.lang-option').forEach(opt => {
        opt.classList.toggle('active', opt.dataset.lang === currentLang);
    });
}

function setLanguage(lang) {
    currentLang = lang;
    localStorage.setItem('lang', lang);
    updateUI();
    langPanel.classList.remove('open');
}

langBtn.addEventListener('click', () => langPanel.classList.add('open'));
document.querySelectorAll('.lang-option').forEach(opt => {
    opt.addEventListener('click', () => setLanguage(opt.dataset.lang));
});

// ==================== èƒŒæ™¯éŸ³ä¹ ====================
let audioCtx = null;
let musicPlaying = false;
let beatInterval = null;
let moanInterval = null;

function initAudioContext() {
    if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    if (audioCtx.state === 'suspended') audioCtx.resume();
    return audioCtx;
}

function playBeat() {
    if (!musicPlaying || !audioCtx) return;
    const now = audioCtx.currentTime;
    const kick = audioCtx.createOscillator();
    const kickGain = audioCtx.createGain();
    kick.type = 'sine';
    kick.frequency.setValueAtTime(150, now);
    kick.frequency.exponentialRampToValueAtTime(30, now + 0.1);
    kickGain.gain.setValueAtTime(0.5, now);
    kickGain.gain.exponentialRampToValueAtTime(0.01, now + 0.25);
    kick.connect(kickGain);
    kickGain.connect(audioCtx.destination);
    kick.start(now);
    kick.stop(now + 0.25);
}

function playMoan() {
    if (!musicPlaying || !audioCtx) return;
    const now = audioCtx.currentTime;
    const duration = 0.4 + Math.random() * 0.6;
    const baseFreq = 280 + Math.random() * 180;
    const voice = audioCtx.createOscillator();
    const voiceGain = audioCtx.createGain();
    const filter = audioCtx.createBiquadFilter();
    voice.type = 'sine';
    voice.frequency.setValueAtTime(baseFreq, now);
    voice.frequency.exponentialRampToValueAtTime(baseFreq * 0.85, now + duration);
    filter.type = 'bandpass';
    filter.frequency.value = 1000;
    filter.Q.value = 2;
    voiceGain.gain.setValueAtTime(0.01, now);
    voiceGain.gain.exponentialRampToValueAtTime(0.12, now + 0.05);
    voiceGain.gain.exponentialRampToValueAtTime(0.01, now + duration);
    voice.connect(filter);
    filter.connect(voiceGain);
    voiceGain.connect(audioCtx.destination);
    voice.start(now);
    voice.stop(now + duration);
}

function startMusic() {
    if (musicPlaying) return;
    initAudioContext();
    musicPlaying = true;
    musicBtn.classList.add('playing');
    playBeat();
    beatInterval = setInterval(playBeat, 600);
    function scheduleMoan() {
        if (!musicPlaying) return;
        playMoan();
        moanInterval = setTimeout(scheduleMoan, 1500 + Math.random() * 3000);
    }
    setTimeout(scheduleMoan, 1000);
}

function stopMusic() {
    musicPlaying = false;
    musicBtn.classList.remove('playing');
    if (beatInterval) { clearInterval(beatInterval); beatInterval = null; }
    if (moanInterval) { clearTimeout(moanInterval); moanInterval = null; }
}

musicBtn.addEventListener('click', () => musicPlaying ? stopMusic() : startMusic());

// ==================== æ ¸å¿ƒåŠŸèƒ½ ====================
function getRandomCommand() {
    const pool = commands[currentLang][gameMode];
    return pool[Math.floor(Math.random() * pool.length)];
}

function renderCard(data) {
    const t = i18n[currentLang];
    let bottomHtml = data.duration
        ? `<div class="countdown"><div class="countdown-time" id="countdownTime">${data.duration}</div><div class="countdown-label">${t.seconds}</div></div>`
        : `<div class="countdown"><div class="countdown-label">${t.clickNext}</div></div>`;

    const poseHtml = data.pose && poseSVGs[data.pose] ? `<div class="position-icon">${poseSVGs[data.pose]}</div>` : '';

    cardFront.innerHTML = `
        <div class="intensity-strip" style="background: linear-gradient(90deg, ${levelColors[data.level]}, transparent)"></div>
        <div class="command-content">
            <div class="command-level" style="color: ${levelColors[data.level]}; border-color: ${levelColors[data.level]}50">${t['level_' + data.level]}</div>
            ${poseHtml}
            <div class="command-text"><p>${data.cmd}</p></div>
        </div>
        ${bottomHtml}
    `;

    if (data.duration) setTimeout(() => startCountdown(data.duration), 600);
}

function flipCard() {
    if (timerInterval) { clearInterval(timerInterval); timerInterval = null; }
    const data = getRandomCommand();
    renderCard(data);
    if (!isFlipped) { card.classList.add('flipped'); isFlipped = true; }
    else { card.classList.remove('flipped'); setTimeout(() => card.classList.add('flipped'), 50); }
    triggerEffects(data.level);
}

function triggerEffects(level) {
    const bgHeat = document.querySelector('.bg-heat');
    bgHeat.style.background = `radial-gradient(ellipse at 50% 100%, rgba(255,20,20,${0.15 + level * 0.1}) 0%, transparent 60%)`;
    pulseBorder.classList.remove('active', 'intense');
    void pulseBorder.offsetWidth;
    pulseBorder.classList.add(level >= 4 ? 'intense' : 'active');
    if (level >= 3) {
        flash.style.background = level >= 5 ? '#ff0000' : '#ff2020';
        flash.classList.remove('fire'); void flash.offsetWidth; flash.classList.add('fire');
        document.body.classList.remove('shaking', 'shaking-hard');
        document.body.classList.add(level >= 4 ? 'shaking-hard' : 'shaking');
        setTimeout(() => document.body.classList.remove('shaking', 'shaking-hard'), level >= 4 ? 800 : 500);
    }
    spawnFireParticles(level * 6, level);
    if (navigator.vibrate) navigator.vibrate([40 * level]);
}

function spawnFireParticles(count, level) {
    const sizes = { 1: 5, 2: 8, 3: 12, 4: 16, 5: 22 };
    for (let i = 0; i < count; i++) {
        setTimeout(() => {
            const p = document.createElement('div');
            p.className = 'fire-particle';
            const size = sizes[level] + Math.random() * 8;
            p.style.cssText = `width:${size}px;height:${size}px;left:${10+Math.random()*80}%;bottom:12%`;
            document.body.appendChild(p);
            p.animate([
                { transform: 'translateY(0) scale(1)', opacity: 1 },
                { transform: `translateY(-${100+Math.random()*100}px) scale(0)`, opacity: 0 }
            ], { duration: 500 + Math.random() * 400, easing: 'ease-out' });
            setTimeout(() => p.remove(), 900);
        }, i * 35);
    }
}

function startCountdown(seconds) {
    let remaining = seconds;
    const timeDisplay = document.getElementById('countdownTime');
    if (!timeDisplay) return;
    const t = i18n[currentLang];
    timerInterval = setInterval(() => {
        remaining--;
        timeDisplay.textContent = remaining >= 60 ? `${Math.floor(remaining/60)}:${(remaining%60).toString().padStart(2,'0')}` : remaining;
        if (remaining <= 10 && remaining > 0) {
            timeDisplay.classList.add('urgent');
            if (navigator.vibrate) navigator.vibrate([40]);
        }
        if (remaining <= 0) {
            clearInterval(timerInterval); timerInterval = null;
            timeDisplay.classList.remove('urgent');
            timeDisplay.textContent = t.done;
            triggerEffects(5);
        }
    }, 1000);
}

// ==================== äº‹ä»¶ ====================
card.addEventListener('click', flipCard);
document.getElementById('btnNext').addEventListener('click', flipCard);
document.getElementById('btnSkip').addEventListener('click', flipCard);

modeBadge.addEventListener('click', () => settingsPanel.classList.add('open'));
document.getElementById('settingsClose').addEventListener('click', () => settingsPanel.classList.remove('open'));

document.getElementById('modeCards').addEventListener('click', (e) => {
    const modeCard = e.target.closest('.mode-card');
    if (!modeCard) return;
    document.querySelectorAll('.mode-card').forEach(c => c.classList.remove('active'));
    modeCard.classList.add('active');
    gameMode = modeCard.dataset.mode;
    modeBadge.textContent = i18n[currentLang]['mode_' + gameMode];
    settingsPanel.classList.remove('open');
});

// ç¬¬ä¸€æ¬¡ç‚¹å‡»å¯åŠ¨éŸ³ä¹
card.addEventListener('click', () => { if (!musicPlaying) startMusic(); }, { once: true });

// åˆå§‹åŒ–UI
updateUI();
</script>
</body>
</html>
